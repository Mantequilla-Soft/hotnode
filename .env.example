# IPFS Hot Node Environment Configuration
# Copy this file to .env and fill in your values

# Admin Authentication
ADMIN_PASSWORD=your_secure_password_here
SESSION_SECRET=your_random_secret_key_here

# Hot Node Configuration
HOTNODE_NAME=HotNode-01
HOTNODE_PORT=3101
IPFS_API_URL=http://127.0.0.1:5001
IPFS_GATEWAY_URL=http://127.0.0.1:8080

# Node Type: infrastructure or community
# infrastructure = Has MongoDB access, exposes validation API
# community = Uses remote validation API, no MongoDB needed
NODE_TYPE=infrastructure

# Supernode Configuration
SUPERNODE_API=http://65.21.201.94:5002
SUPERNODE_TIMEOUT_MS=30000

# MongoDB (Traffic Director) - Infrastructure Nodes Only
# Leave empty for community nodes
MONGODB_URI=mongodb://username:password@host:port/database
MONGODB_DATABASE=threespeak
MONGODB_COLLECTION_LEGACY=videos
MONGODB_COLLECTION_NEW=embed-video
MONGODB_TIMEOUT_MS=5000

# Validation Server - Community Nodes Only
# URL of infrastructure node that provides validation API
VALIDATION_SERVER_URL=https://admin-hotipfs-1.3speak.tv

# Discord Notifications
# DEFAULT_WEBHOOK_URL: Reports to 3speak monitoring (REQUIRED - contact 3speak for URL)
# DISCORD_WEBHOOK_URL: Your own custom webhook (optional)
DEFAULT_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# Nginx Logs
NGINX_LOG_PATH=/var/log/nginx/ipfs-access.log

# Migration Settings
MIGRATION_START_AFTER_DAYS=4
MIGRATION_DELETE_AFTER_DAYS=7
MIGRATION_BATCH_SIZE=10
MIGRATION_CHECK_INTERVAL_HOURS=12
MIGRATION_THROTTLE_DELAY_MS=2000
MIGRATION_MAX_RETRIES=10

# Cleanup Settings
CLEANUP_INVALID_RETENTION_DAYS=2
CLEANUP_GC_SCHEDULE="0 2 * * *"
CLEANUP_GC_TIMEOUT_MINUTES=60

# Stats
STATS_RETENTION_DAYS=90
STATS_AGGREGATION_INTERVAL_MINUTES=60

# Health Monitoring
HEALTH_DISK_WARNING_PERCENT=80
HEALTH_DISK_CRITICAL_PERCENT=90

# Logging
LOG_LEVEL=info
LOG_FILE=logs/hotnode.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Environment
NODE_ENV=production
